(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{236:function(t,e,n){},400:function(t,e,n){},401:function(t,e,n){},402:function(t,e,n){"use strict";n.r(e);var a=n(0),c=n.n(a),r=n(36),i=n.n(r),o=(n(236),n(218)),s=new(n(446).a),u=n(31),l=n(447),j=n(450),d=n(451),b=n(444),p=n(448),x=n(78),O=n(452),f=n(437),m=n(435),h=n(9),v=Object(m.a)({root:{width:"clamp(125px, 30vw, 220px)",minWidth:"125px",border:"none",boxShadow:function(t){return t.selected?"0 0 0 2px black":"0 0 0 1px silver"},cursor:"pointer"}});function g(t){var e=t.selected,n=t.date,a=t.onClick,r=t.temp,i=t.scale,o=(Object(x.a)(t,["selected","date","onClick","temp","scale"]),v({selected:e})),s=c.a.useCallback((function(){a(n)}),[n,a]);return Object(h.jsx)(O.a,{"data-testid":n,variant:"outlined",className:o.root,onClick:s,children:Object(h.jsxs)(f.a,{children:[Object(h.jsxs)("p",{children:["Temp: ",Object(h.jsx)("br",{})," ",Object(h.jsxs)("b",{children:[r,"\xb0".concat(i.toUpperCase())]})]}),Object(h.jsxs)("p",{children:["Date: ",Object(h.jsx)("br",{})," ",Object(h.jsx)("b",{children:n})]})]})})}var C=n(32),k=n(438),w=n(197),y=n.n(w),F=n(196),P=n.n(F),M=Object(m.a)((function(){return{buttonsContainer:{display:"flex",flex:1,justifyContent:"space-between",margin:"30px 0px"},contentContainer:{overflowX:"auto",display:"flex",padding:"20px 3px","& > *:not(:first-child)":{marginLeft:"20px"}}}}));function N(t){var e=M(),n=c.a.useState(0),a=Object(u.a)(n,2),r=a[0],i=a[1],o=c.a.useMemo((function(){return r*t.perPage}),[r,t.perPage]),s=c.a.useMemo((function(){return o+t.perPage}),[o,t.perPage]),l=c.a.useMemo((function(){return t.data.length/t.perPage-1}),[t.data.length,t.perPage]);return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("div",{className:e.buttonsContainer,children:[r>0?Object(h.jsx)(k.a,{"data-testid":"left",onClick:function(){return i((function(t){return--t}))},variant:"outlined",children:Object(h.jsx)(P.a,{fontSize:"large"})}):Object(h.jsx)("span",{}),r<l?Object(h.jsx)(k.a,{"data-testid":"right",onClick:function(){return i((function(t){return++t}))},variant:"outlined",children:Object(h.jsx)(y.a,{fontSize:"large"})}):Object(h.jsx)("span",{})]}),Object(h.jsx)("div",{className:e.contentContainer,children:t.data.slice(o,s).map((function(e){return c.a.Children.map(t.children,(function(n){return c.a.cloneElement(n,Object(C.a)(Object(C.a)({},e),{},{key:t.keyExtractor&&t.keyExtractor(e)}))}))}))})]})}var S=n(439),_=n(440),D=n(98),E=n(217),L=n(216),z=n(221),B=n(208),I=n(198),K=n.n(I),T=n(199),A=Object(m.a)((function(){return{root:{margin:"40px 0px"}}})),J=function(t){return K()(new Date(t),"h:mm aa")};function U(t){var e=t.color,n=void 0===e?"primary":e,a=t.data,r=t.scale,i=void 0===r?"":r,o=(Object(x.a)(t,["color","data","scale"]),A()),s=Object(T.a)().palette,u=c.a.useMemo((function(){return"\xb0"+i.toUpperCase()}),[i]);return Object(h.jsx)(S.a,{width:"90%",height:250,children:Object(h.jsxs)(_.a,{className:o.root,data:a,margin:{right:20,left:-10},maxBarSize:20,children:[Object(h.jsx)(D.a,{formatter:function(t){return t+u},labelFormatter:J}),Object(h.jsx)(E.a,{dataKey:"temp",unit:u}),Object(h.jsx)(L.a,{dataKey:"dt_txt",tickFormatter:J,interval:0}),Object(h.jsx)(z.a,{dataKey:"temp",fill:s[n].main}),Object(h.jsx)(B.a,{y:0})]})})}var W=n(220),q=n(449),V="75f972b80e26f14fe6c920aa6a85ad57",X={list:[]};function G(t){return Number((1.8*(t-273.15)+32).toFixed(2))}function H(t){return(t.reduce((function(t,e){return t+e.temp}),0)/t.length).toFixed(2)}n(400);var Q={location:"Munich,de",count:40};var R=function(){var t=c.a.useState("c"),e=Object(u.a)(t,2),n=e[0],a=e[1],r=c.a.useState(),i=Object(u.a)(r,2),o=i[0],s=i[1],O=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{refetchOnWindowFocus:!1},a=Object(q.a)(["weatherData"].concat(Object(W.a)(t)),(function(){return fetch("https://api.openweathermap.org/data/2.5/forecast?q=".concat(e.location,"&APPID=").concat(V,"&cnt=").concat(e.count)).then((function(t){return t.json()}))}),n),c=a.data,r=void 0===c?X:c,i=Object(x.a)(a,["data"]);return Object(C.a)(Object(C.a)({},i),{},{data:r})}([Q.location,Q.count],Q),f=O.data,m=O.isLoading,v=c.a.useMemo((function(){return function(t){return t.reduce((function(t,e){var n=e.dt_txt.split(" ")[0];return t[n]?t[n].push(Object(C.a)(Object(C.a)({},e.main),{},{dt_txt:e.dt_txt})):t[n]=[Object(C.a)(Object(C.a)({},e.main),{},{dt_txt:e.dt_txt})],t}),{})}(function(t,e){return t.map((function(t){return Object(C.a)(Object(C.a)({},t),{},{main:Object(C.a)(Object(C.a)({},t.main),{},{temp:"c"===e?(n=t.main.temp,Number((n-273.15).toFixed(2))):G(t.main.temp)})});var n}))}(f.list,n))}),[f.list,n]),k=c.a.useMemo((function(){return(t=v,Object.keys(t).map((function(e){var n=t[e];return{temp:H(n),date:e,forecasts:n}}))).map((function(t){return t.selected=t.date===o,t}));var t}),[v,o]);return m?Object(h.jsx)(p.a,{open:!0,"data-testid":"loading",children:Object(h.jsx)(b.a,{})}):Object(h.jsxs)("div",{className:"Main",children:[Object(h.jsx)("div",{className:"buttons-container",children:Object(h.jsxs)(j.a,{row:!0,"aria-label":"position",name:"position",defaultValue:"c",onChange:function(t){return a(t.target.value)},children:[Object(h.jsx)(d.a,{value:"c",control:Object(h.jsx)(l.a,{color:"primary"}),label:"Celsius"}),Object(h.jsx)(d.a,{value:"f",control:Object(h.jsx)(l.a,{color:"primary"}),label:"Fahrenheit"})]})}),Object(h.jsx)(N,{perPage:3,data:k,keyExtractor:function(t){return t.date},children:Object(h.jsx)(g,{scale:n,onClick:s})}),o in v?Object(h.jsx)(U,{scale:n,data:v[o]}):null]})};n(401);var Y=function(){return Object(h.jsx)("div",{className:"App",children:Object(h.jsx)(o.a,{client:s,children:Object(h.jsx)(R,{})})})},Z=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,453)).then((function(e){var n=e.getCLS,a=e.getFID,c=e.getFCP,r=e.getLCP,i=e.getTTFB;n(t),a(t),c(t),r(t),i(t)}))};i.a.render(Object(h.jsx)(c.a.StrictMode,{children:Object(h.jsx)(Y,{})}),document.getElementById("root")),Z()}},[[402,1,2]]]);
//# sourceMappingURL=main.566d2e9f.chunk.js.map